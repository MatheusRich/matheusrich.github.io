---
layout: default
permalink: /all/
---

<section>
  <h1 class="pageTitle">All posts</h1>
  {% assign years = "" | split: ',' %}
  {% for post in site.posts %}
    {% assign post_year = post.date | date: "%Y" %}
    {% assign years = years | push: post_year %}
  {% endfor %}
  {% assign years = years | sort %}
  {% assign first_y = years | first %}
  {% assign last_y = years | last %}
  {% assign n_years = last_y | minus: first_y %}

  {% assign n_articles = site.posts | size %}

  {% assign n_words = 0 %}
  {% for post in site.posts  %}
    {% assign post_words = post.content | number_of_words %}
    {% assign n_words = n_words | plus: post_words %}
  {% endfor  %}

  <p>
    I've written for {{n_years}} years, across {{n_articles}} articles and {{n_words}} words! Check out all my posts
  bellow.
  </p>
  <p>
    I also have some articles on <a href="https://robots.thoughtbot.com/authors/matheus-richard">thoughtbot's blog</a>.
  </p>

  {% for post in site.posts  %}
    {% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
    {% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}

    {% if forloop.first %}
      <h2 id="{{ this_year }}-ref">{{this_year}}</h2>
      <ul class="posts noList">
    {% endif %}

    <li>
      <h3 class="font-xl">
        <a href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
        <span class="date">{{ post.date | date: "%b %-d" }}</span>
        {% if post.draft %} <span class="Tag">Draft</span> {% endif %}
      </h3>
    </li>

    {% if forloop.last %}
      </ul>
    {% else %}
      {% if this_year != next_year %}
        </ul>

        <h2 id="{{ next_year }}-ref">{{next_year}}</h2>

        <ul class="posts noList">
      {% endif %}
    {% endif %}
  {% endfor %}
</section>
